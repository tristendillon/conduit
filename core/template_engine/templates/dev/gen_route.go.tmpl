// Code generated by conduit at {{ .Timestamp.Format "2006-01-02 15:04:05" }}. DO NOT EDIT.
// Source: {{ .Route.ParsedFile.RelPath }}

package {{ .Route.ParsedFile.PackageName }}_gen

import (
	"net/http"
	{{ range .Route.ParsedFile.Imports }}
	{{ . }}
	{{ end }}
)

{{ range .Route.ParsedFile.Functions -}}
func {{ .Signature }} {
{{ .Body }}
}

{{ end -}}

func SetupRoutes(mux *http.ServeMux, basePath string) {
	{{ range .Route.ParsedFile.Functions }}
	mux.HandleFunc("{{ .Method }} "+basePath, {{ .Name }})
	{{ end }}
}

func GetRouteMethods() []string {
	return []string{ {{ range $i, $method := .Route.Methods }}{{ if $i }}, {{ end }}"{{ $method }}"{{ end }} }
}

func GetRouteInfo() RouteInfo {
	return RouteInfo{
		APIPath:    "{{ .Route.APIPath }}",
		FolderPath: "{{ .Route.FolderPath }}",
		Methods:    GetRouteMethods(),
		Parameters: []string{ {{ range $i, $param := .Route.Parameters }}{{ if $i }}, {{ end }}"{{ $param }}"{{ end }} },
	}
}

type RouteInfo struct {
	APIPath    string
	FolderPath string
	Methods    []string
	Parameters []string
}